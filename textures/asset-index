#include "uuids.as"

void main(ResourceIndex@ index)
{
  TextureImportSettings importLosslessNormalmap;
  TextureImportSettings importLosslessRgb;
  TextureImportSettings importLosslessRgba;
  importLosslessRgb.format = TextureFormat::RGB;
  importLosslessRgb.type = TextureType::UINT8;
  importLosslessRgba.format = TextureFormat::RGBA;
  importLosslessRgba.type = TextureType::UINT8;
  importLosslessNormalmap.format = TextureFormat::RGB;
  importLosslessNormalmap.type = TextureType::UINT8;
  
  TextureSampler samplerInterpolated;
  TextureSampler samplerNearest;
  
  samplerNearest = samplerInterpolated;
  samplerNearest.magFilter = TextureFilter::NEAREST;
  samplerNearest.minFilter = TextureFilter::LINEAR;
  samplerNearest.mipFilter = TextureFilter::LINEAR;

  index.convertTexture(textureFile: "fallback-normal-map.texture", sourceFile: "fallback-normal-map.png", settings: importLosslessNormalmap);
  index.convertTexture(textureFile: "fallback-srmo.texture", sourceFile: "fallback-srmo.png", settings: importLosslessRgba);
  index.convertTexture(textureFile: "black.texture", sourceFile: "black.png", settings: importLosslessRgb);
  
  index.convertTexture(textureFile: "color-grid.texture", sourceFile: "color-grid.png", settings: importLosslessRgb);
  index.convertTexture(textureFile: "uv-grid.texture", sourceFile: "uv-grid.png", settings: importLosslessRgb);
  
  index.convertTexture(textureFile: "transparency-test.texture", sourceFile: "transparency-test.png", settings: importLosslessRgba);
  
  index.registerTextureFile(uuid: uuids::fallback_normal_map, file: "fallback-normal-map.texture", defaultSampler: samplerInterpolated, generateMipmaps: true);
  index.registerTextureFile(uuid: uuids::fallback_srmo_map, file: "fallback-srmo.texture", defaultSampler: samplerInterpolated, generateMipmaps: true);
  index.registerTextureFile(uuid: uuids::black_texture, file: "black.texture", defaultSampler: samplerInterpolated, generateMipmaps: true);
  index.registerTextureFile(uuid: uuids::color_grid, file: "color-grid.texture", defaultSampler: samplerInterpolated, generateMipmaps: true);
  index.registerTextureFile(uuid: uuids::uv_grid, file: "uv-grid.texture", defaultSampler: samplerNearest, generateMipmaps: true);
  index.registerTextureFile(uuid: uuids::transparency_text, file: "transparency-grtestid.texture", defaultSampler: samplerInterpolated, generateMipmaps: true);
  
  TexturedMaterialOpaque colorgrid_test_material;
  
}
